# ğŸ—ï¸ Sentence Builder - Constructor de Frases Interactivo

## ğŸ“– DESCRIPCIÃ“N GENERAL

El **Sentence Builder** es un nuevo tipo de ejercicio innovador que enseÃ±a a los estudiantes a formar frases en inglÃ©s de manera **intuitiva, visual e interactiva** mediante **drag-and-drop** (arrastrar y soltar).

---

## ğŸ¯ OBJETIVO PEDAGÃ“GICO

### **Problema que Resuelve:**
- Los estudiantes saben palabras individuales pero no cÃ³mo ordenarlas
- La gramÃ¡tica tradicional es abstracta y difÃ­cil de visualizar
- Los estudiantes necesitan prÃ¡ctica para internalizar el orden de palabras del inglÃ©s

### **SoluciÃ³n:**
- Aprendizaje **kinestÃ©sico** (arrastrar fÃ­sicamente las palabras)
- Feedback **visual inmediato** con cÃ³digo de colores
- EvaluaciÃ³n **inteligente con IA** que acepta variaciones correctas

---

## âœ¨ CARACTERÃSTICAS PRINCIPALES

### 1. **Sistema de Drag & Drop Intuitivo**
- âœ… Arrastra palabras desde el Ã¡rea de disponibles a tu frase
- âœ… Reordena palabras dentro de la frase arrastrando
- âœ… Haz clic en palabras para agregarlas/quitarlas rÃ¡pidamente
- âœ… Zonas de drop visualizadas para insertar entre palabras

### 2. **Color-Coding por Tipo de Palabra**
Cada tipo de palabra tiene un color Ãºnico para ayudar a identificarla:

| Tipo | Color | Ejemplo |
|------|-------|---------|
| **Subject** (Sujeto) | ğŸ”µ Azul | I, you, he, she, John |
| **Verb** (Verbo) | ğŸ”´ Rojo | go, have, study, is |
| **Object** (Objeto) | ğŸŸ¢ Verde | book, coffee, homework |
| **Adjective** (Adjetivo) | ğŸŸ£ PÃºrpura | beautiful, big, happy |
| **Adverb** (Adverbio) | ğŸ©· Rosa | quickly, very, often |
| **Preposition** (PreposiciÃ³n) | ğŸŸ  Naranja | in, on, at, with |
| **Article** (ArtÃ­culo) | ğŸŸ¡ Amarillo | a, an, the |
| **Auxiliary** (Auxiliar) | ğŸŸ¦ Ãndigo | do, have, will |
| **Conjunction** (ConjunciÃ³n) | ğŸŸ¢ Turquesa | and, but, because |
| **Complement** (Complemento) | ğŸ”µ Cian | yesterday, at home |
| **Pronoun** (Pronombre) | ğŸŸ£ Violeta | he, she, it, them |
| **Determiner** (Determinante) | ğŸŸ  Ãmbar | this, that, some, many |

### 3. **Hints Educativos**
Cada palabra puede tener:
- **Hint:** ExplicaciÃ³n de su funciÃ³n ("Auxiliary for questions")
- **Translation:** TraducciÃ³n al espaÃ±ol ("Â¿DÃ³nde?")
- **Tooltip:** Se muestra al pasar el mouse

### 4. **Tips Contextuales**
Antes de cada ejercicio, se muestran tips como:
- "English sentences follow: Subject + Verb + Object"
- "Questions with 'do' follow: Question word + do + subject + verb"
- "Don't forget the question mark!"

### 5. **EvaluaciÃ³n Inteligente con IA**
- âœ… **Nivel 1:** Match exacto (100 puntos)
- âœ… **Nivel 2:** Variaciones aceptables pre-definidas (95 puntos)
- âœ… **Nivel 3:** EvaluaciÃ³n con GPT-4o-mini (0-100 puntos)
  - EvalÃºa orden de palabras
  - EvalÃºa precisiÃ³n gramatical
  - EvalÃºa si se preserva el significado
  - Proporciona feedback especÃ­fico

### 6. **Feedback Visual Detallado**
DespuÃ©s de enviar:
- ğŸ‰ **Correcto:** Badge verde con score y mensaje de felicitaciÃ³n
- ğŸ¤” **Parcialmente correcto:** Badge naranja con sugerencias
- âŒ **Incorrecto:** ExplicaciÃ³n + mostrar respuesta correcta

---

## ğŸ“ NIVELES DE DIFICULTAD

### **Beginner (A1-A2)** ğŸŒ±
- Frases simples: "I am a student"
- Presente simple
- Preguntas bÃ¡sicas: "Where do you live?"
- **CaracterÃ­sticas:**
  - âœ… Hints de colores activados
  - âœ… Traducciones visibles
  - âœ… 3-5 palabras por frase
  - âœ… 5 puntos por ejercicio

**Ejemplo:**
```
Prompt: "Form a sentence: 'I am a student'"
Words: [I (subject)] [am (verb)] [a (article)] [student (object)]
```

### **Intermediate (B1-B2)** ğŸ“ˆ
- Frases complejas: "I have been studying English for two years"
- Condicionales, pasiva, Present Perfect Continuous
- **CaracterÃ­sticas:**
  - âœ… Hints de colores activados
  - âš ï¸ Traducciones opcionales
  - âœ… 6-10 palabras por frase
  - âœ… 10 puntos por ejercicio

**Ejemplo:**
```
Prompt: "Form a conditional: 'If I had more time, I would travel more'"
Words: [If] [I] [had] [more] [time] [,] [I] [would] [travel] [more]
```

### **Advanced (C1-C2)** ğŸ“
- Estructuras complejas: inversiÃ³n, clÃ¡usulas relativas
- "Not only did she pass, but she also got the highest score"
- **CaracterÃ­sticas:**
  - âŒ Sin hints de colores (mÃ¡s desafiante)
  - âŒ Sin traducciones
  - âœ… 10-15 palabras por frase
  - âœ… 15 puntos por ejercicio

**Ejemplo:**
```
Prompt: "Form with inversion: 'Not only did she pass the exam, but she also got the highest score'"
Words: [Not] [only] [did] [she] [pass] [the] [exam] [,] [but] [she] [also] [got] [the] [highest] [score]
```

---

## ğŸ’¡ FLUJO DE USO

### **1. Inicio del Ejercicio**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Build this sentence:            â”‚
â”‚  "Where do you live?"               â”‚
â”‚  ğŸ“š Focus: Present Simple Questions â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **2. Ãrea de ConstrucciÃ³n (VacÃ­a)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Your Sentence:                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Drag words here or click    â”‚   â”‚
â”‚  â”‚ them below                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **3. Palabras Disponibles (Mezcladas)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”¤ Available Words:                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”  â”‚
â”‚  â”‚ live  â”‚ do â”‚ you â”‚Where â”‚ ? â”‚  â”‚
â”‚  â”‚ğŸ”´ verbâ”‚ğŸŸ¦ â”‚ğŸ”µ   â”‚ğŸ©·    â”‚ğŸ”µ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **4. ConstrucciÃ³n Parcial**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Your Sentence:                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ Where  â”‚ do â”‚ you â”‚             â”‚
â”‚  â”‚ğŸ©· adv  â”‚ğŸŸ¦  â”‚ğŸ”µ   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                     â”‚
â”‚  Preview: "Where do you"            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **5. ConstrucciÃ³n Completa**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Your Sentence:                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â” â”‚
â”‚  â”‚ Where  â”‚ do â”‚ you â”‚ live â”‚ ? â”‚ â”‚
â”‚  â”‚ğŸ©· adv  â”‚ğŸŸ¦  â”‚ğŸ”µ   â”‚ğŸ”´ v  â”‚ğŸ”µ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  Preview: "Where do you live?"      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     [Check Answer]  [ğŸ”„ Reset]
```

### **6. Feedback (Correcto)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‰ Correct!                        â”‚
â”‚  Score: 100/100                     â”‚
â”‚                                     â”‚
â”‚  Perfect! Your sentence is exactly  â”‚
â”‚  correct! You followed the word     â”‚
â”‚  order for questions perfectly:     â”‚
â”‚  Question word + auxiliary + subj-  â”‚
â”‚  ect + main verb                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **7. Feedback (Parcialmente Correcto)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤” Not Quite Right                 â”‚
â”‚  Score: 65/100                      â”‚
â”‚                                     â”‚
â”‚  Your answer: "Where you do live?"  â”‚
â”‚                                     â”‚
â”‚  You have the right words, but the  â”‚
â”‚  order isn't correct. In questions  â”‚
â”‚  with 'do', the auxiliary comes     â”‚
â”‚  BEFORE the subject.                â”‚
â”‚                                     â”‚
â”‚  ğŸ’¡ Suggestions:                    â”‚
â”‚  â€¢ Place 'do' right after 'Where'   â”‚
â”‚  â€¢ Subject 'you' comes next         â”‚
â”‚  â€¢ Main verb 'live' goes last       â”‚
â”‚                                     â”‚
â”‚  âœï¸ Correct Answer:                 â”‚
â”‚  "Where do you live?"               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ IMPLEMENTACIÃ“N TÃ‰CNICA

### **Archivos Creados:**

1. **`lib/course-data-b2.ts`** (actualizado)
   - Tipos TypeScript para `SentenceBuildingExercise`
   - Interfaces `Word`, `SentenceBuildingChallenge`
   - Tipos de palabras (`WordType`)

2. **`components/course/SentenceBuilder.tsx`** (nuevo)
   - Componente React con drag & drop
   - GestiÃ³n de estado con hooks
   - EvaluaciÃ³n local + API
   - 15.7KB de cÃ³digo

3. **`app/api/evaluate-sentence-building/route.ts`** (nuevo)
   - Endpoint de evaluaciÃ³n con GPT-4o-mini
   - AnÃ¡lisis de orden de palabras
   - AnÃ¡lisis gramatical
   - Feedback especÃ­fico

4. **`lib/sentence-building-exercises.ts`** (nuevo)
   - 10 ejercicios de ejemplo
   - 3 niveles (Beginner, Intermediate, Advanced)
   - Datos listos para usar

5. **`components/course/LessonViewer.tsx`** (actualizado)
   - Case para `'sentence-building'`
   - IntegraciÃ³n con el sistema de lecciones

---

## ğŸ“Š ESTRUCTURA DE DATOS

### **SentenceBuildingChallenge**
```typescript
{
  id: 'sb-1',
  prompt: 'Form a sentence: "I am a student"',
  targetSentence: 'I am a student',
  words: [
    { id: 'w1', text: 'I', type: 'subject', hint: 'The speaker', translation: 'Yo' },
    { id: 'w2', text: 'am', type: 'verb', hint: 'To be (1st person)', translation: 'soy' },
    { id: 'w3', text: 'a', type: 'article', hint: 'Indefinite article', translation: 'un/una' },
    { id: 'w4', text: 'student', type: 'object', hint: 'Person who studies', translation: 'estudiante' }
  ],
  difficulty: 'easy',
  grammarFocus: 'Present Simple - To Be',
  tips: [
    'English sentences follow: Subject + Verb + Object',
    '"I" always takes "am" as the verb'
  ],
  points: 5,
  acceptableVariations: []
}
```

---

## ğŸ¨ DISEÃ‘O UI/UX

### **Paleta de Colores:**
- **Violet/Purple:** Color principal del ejercicio (enfoque en construcciÃ³n)
- **12 colores:** Uno por cada tipo de palabra
- **Verde:** Feedback correcto
- **Naranja:** Feedback parcial
- **Rojo:** Errores especÃ­ficos

### **Interacciones:**
1. **Drag & Drop:**
   - Cursor cambia a "grab" al arrastrar
   - Drop zones visibles
   - AnimaciÃ³n de scale al hover

2. **Click:**
   - Alternativa al drag & drop
   - MÃ¡s rÃ¡pido para mÃ³viles
   - AÃ±ade/quita palabras con un click

3. **Hover:**
   - Tooltips con hints
   - Highlight de drop zones

### **Responsive:**
- âœ… Desktop: Drag & drop completo
- âœ… Tablet: Drag & drop + touch
- âœ… Mobile: Prioriza clicks, drag opcional

---

## ğŸ“ˆ BENEFICIOS PEDAGÃ“GICOS

### **1. Aprendizaje Activo**
- El estudiante **construye** activamente en lugar de solo leer
- Aprendizaje kinestÃ©sico (movimiento fÃ­sico)

### **2. Feedback Inmediato**
- No espera correcciÃ³n del profesor
- Puede intentar mÃºltiples veces
- Aprende de sus errores inmediatamente

### **3. VisualizaciÃ³n de GramÃ¡tica**
- Los colores hacen visible la estructura gramatical
- Patrones se vuelven obvios visualmente
- Ej: Subject (azul) + Verb (rojo) + Object (verde)

### **4. ReducciÃ³n de Ansiedad**
- No hay "pÃ¡gina en blanco"
- Todas las palabras ya estÃ¡n dadas
- Solo necesita ordenarlas

### **5. ProgresiÃ³n Natural**
- De simple (3 palabras) a complejo (15 palabras)
- De con hints a sin hints
- De con traducciones a sin traducciones

---

## ğŸ’° COSTOS

### **Por EvaluaciÃ³n:**
- **Exact match:** â‚¬0 (sin API call)
- **Acceptable variation:** â‚¬0 (sin API call)
- **AI evaluation:** ~â‚¬0.003-0.005 (GPT-4o-mini)

### **EstimaciÃ³n Mensual:**
- 100 estudiantes Ã— 20 ejercicios/mes = 2,000 evaluaciones
- ~30% requieren IA (rest exact match): 600 evaluaciones
- Costo: **â‚¬1.80-3.00/mes**

**ConclusiÃ³n:** Muy econÃ³mico debido a:
- Uso de GPT-4o-mini (no GPT-4o)
- Muchos matches exactos no requieren IA
- Variaciones aceptadas pre-definidas

---

## ğŸš€ PRÃ“XIMOS PASOS

### **Implementado âœ…**
1. âœ… Estructura de datos completa
2. âœ… Componente drag & drop funcional
3. âœ… Sistema de colores por tipo de palabra
4. âœ… EvaluaciÃ³n con IA
5. âœ… 10 ejercicios de ejemplo (3 niveles)
6. âœ… IntegraciÃ³n en LessonViewer
7. âœ… Feedback visual detallado

### **Pendiente â³**
1. â³ Testing exhaustivo con usuarios reales
2. â³ OptimizaciÃ³n de drag & drop en mÃ³viles
3. â³ Dashboard de profesor para ver estadÃ­sticas
4. â³ Expandir a 50+ ejercicios por nivel
5. â³ Modo "practice" sin puntos
6. â³ Achievements por completar series

---

## ğŸ“– GUÃA DE USO PARA PROFESORES

### **CÃ³mo AÃ±adir Nuevos Ejercicios:**

```typescript
const newChallenge: SentenceBuildingChallenge = {
  id: 'sb-custom-1',
  prompt: 'Tu instrucciÃ³n aquÃ­',
  targetSentence: 'La frase correcta',
  words: createWords([
    ['word1', 'subject', 'hint opcional', 'traducciÃ³n'],
    ['word2', 'verb', 'hint opcional', 'traducciÃ³n'],
    // ... mÃ¡s palabras
  ]),
  difficulty: 'easy' | 'medium' | 'hard',
  grammarFocus: 'El punto gramatical',
  tips: [
    'Tip 1',
    'Tip 2'
  ],
  points: 5, // 5 easy, 10 medium, 15 hard
  acceptableVariations: [] // Variaciones aceptadas
};
```

### **Mejores PrÃ¡cticas:**
1. **MantÃ©n las frases relevantes** al nivel del estudiante
2. **Usa palabras del vocabulario** ya aprendido
3. **Proporciona hints claros** pero no obviosos
4. **Incluye tips** que enseÃ±en la regla gramatical
5. **Mezcla bien las palabras** para que no sea obvio

---

## ğŸ¯ CONCLUSIÃ“N

El **Sentence Builder** es una herramienta pedagÃ³gica innovadora que:

âœ… **Hace la gramÃ¡tica visual e intuitiva**  
âœ… **Proporciona prÃ¡ctica activa y kinestÃ©sica**  
âœ… **Da feedback inmediato e inteligente**  
âœ… **Progresa naturalmente de simple a complejo**  
âœ… **Es divertido y reduce la ansiedad**  
âœ… **Muy econÃ³mico de operar** (â‚¬1-3/mes para 100 estudiantes)

**Estado:** âœ… LISTO PARA USAR

**PrÃ³ximo paso:** Integrar en las lecciones del curso B2 y recopilar feedback de estudiantes.

---

**DocumentaciÃ³n creada por:** Claude AI  
**Fecha:** 2026-01-17  
**VersiÃ³n:** 1.0.0
