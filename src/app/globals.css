@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-primary: 255 107 107;
    --color-primary-hover: 255 85 85;
    --color-secondary: 255 160 107;
    --color-accent: 255 190 152;
    --color-success: 52 211 153;
    --color-warning: 251 191 36;
    --color-background: 254 250 244;
    --color-card: 255 255 255;
  }

  html {
    scroll-behavior: smooth;
  }

  /*
   * TYPOGRAPHY SYSTEM
   * ─────────────────────────────────────────────────────
   * Display / H1–H3  →  Plus Jakarta Sans  (geometric, confident, modern)
   * H4–H6 / Body     →  Nunito             (rounded, warm, highly readable)
   *
   * Rationale: Jakarta commands authority at large sizes;
   * Nunito creates warmth and approachability in reading copy.
   */

  body {
    font-family: var(--font-nunito), 'Nunito', system-ui, sans-serif;
    @apply antialiased text-base leading-relaxed text-slate-700;
    background-color: rgb(var(--color-background));
    font-feature-settings: "kern" 1, "liga" 1;
  }

  /* ── DISPLAY / LARGE HEADINGS ── Jakarta Sans */
  h1, h2, h3 {
    font-family: var(--font-jakarta), 'Plus Jakarta Sans', system-ui, sans-serif;
    @apply text-slate-900 leading-tight;
    font-feature-settings: "kern" 1, "ss01" 1;
  }

  h1 {
    @apply text-4xl font-extrabold tracking-tight;
    line-height: 1.1;
  }

  h2 {
    @apply text-2xl font-bold tracking-tight;
    line-height: 1.2;
  }

  h3 {
    @apply text-xl font-semibold tracking-tight;
    line-height: 1.25;
  }

  /* ── SMALL HEADINGS / LABELS ── Nunito */
  h4, h5, h6 {
    font-family: var(--font-nunito), 'Nunito', system-ui, sans-serif;
    @apply text-slate-800;
  }

  h4 { @apply text-lg font-extrabold tracking-tight; }
  h5 { @apply text-base font-bold; }
  h6 { @apply text-sm font-bold uppercase tracking-widest text-slate-500; }

  p {
    @apply leading-relaxed text-slate-700;
  }

  strong {
    font-family: var(--font-jakarta), 'Plus Jakarta Sans', system-ui, sans-serif;
    @apply font-bold text-slate-900;
  }

  *:focus-visible {
    outline: 2px solid rgb(var(--color-primary));
    outline-offset: 2px;
  }
}

@layer components {
  /* Utility: apply Jakarta Sans to any element (stats, counters, big numbers) */
  .font-jakarta {
    font-family: var(--font-jakarta), 'Plus Jakarta Sans', system-ui, sans-serif;
  }

  .btn-coral {
    background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
    @apply text-white shadow-coral transition-transform duration-200;
  }

  .btn-coral:hover {
    @apply -translate-y-0.5 shadow-coral-lg;
  }

  .btn-peach {
    background: linear-gradient(135deg, #FFA06B 0%, #FFB89C 100%);
    @apply text-white shadow-peach;
  }

  .chip {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-colors;
  }

  .chip-coral {
    background: linear-gradient(135deg, #FFF4ED 0%, #FFE8D9 100%);
    @apply text-primary border border-peach-200;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Animations */
  .animate-slide-down {
    animation: slide-down 0.2s ease-out;
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .animation-delay-4000 {
    animation-delay: 4s;
  }

  .hover-float:hover {
    animation: card-float 2s ease-in-out infinite;
  }

  /* 3D Flashcards */
  .perspective-1000 {
    perspective: 1000px;
  }

  .preserve-3d {
    transform-style: preserve-3d;
  }

  .backface-hidden {
    backface-visibility: hidden;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  @apply w-2.5 h-2.5;
}

::-webkit-scrollbar-track {
  @apply bg-slate-100;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, #FF8E53, #FF6B6B);
  @apply rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, #FF6B6B, #FF5555);
}

/* Keyframes */
@keyframes slide-down {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes blob {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(30px, -50px) scale(1.1); }
  66% { transform: translate(-20px, 20px) scale(0.9); }
}

@keyframes card-float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

/* Print Styles */
@media print {
  @page {
    size: A4;
    margin: 1.5cm;
  }

  body {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  .print\\:hidden {
    display: none !important;
  }

  .print\\:block {
    display: block !important;
  }

  .print\\:border-0 {
    border: 0 !important;
  }

  .print\\:py-2 {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }

  .print\\:py-4 {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
  }

  .print\\:mb-2 {
    margin-bottom: 0.5rem !important;
  }

  .print\\:mb-3 {
    margin-bottom: 0.75rem !important;
  }

  .print\\:text-sm {
    font-size: 0.875rem !important;
  }

  .print\\:text-2xl {
    font-size: 1.5rem !important;
  }

  .print\\:bg-white {
    background-color: white !important;
  }

  .print\\:hover\\:bg-white:hover {
    background-color: white !important;
  }

  .print\\:border {
    border-width: 1px !important;
  }

  .print\\:border-slate-300 {
    border-color: rgb(203, 213, 225) !important;
  }

  .print\\:cursor-default {
    cursor: default !important;
  }

  /* Avoid page breaks inside table rows */
  tr {
    page-break-inside: avoid;
  }

  /* Keep headers on each page */
  thead {
    display: table-header-group;
  }

  tfoot {
    display: table-footer-group;
  }
}

@keyframes confetti-fall {
  0%   { transform: translateY(0) rotate(0deg); opacity: 1; }
  80%  { opacity: 1; }
  100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
}

@keyframes xp-fly {
  0%   { transform: translateX(-50%) translateY(0); opacity: 1; }
  60%  { opacity: 1; }
  100% { transform: translateX(-50%) translateY(-28px); opacity: 0; }
}

@keyframes shimmer {
  0%   { transform: translateX(-100%); }
  100% { transform: translateX(200%); }
}

@keyframes heart-lost {
  0%   { transform: scale(1.4); opacity: 1; }
  50%  { transform: scale(0.7); opacity: 0.6; }
  100% { transform: scale(0.9); opacity: 1; }
}
